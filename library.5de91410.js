!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},i={},r=t.parcelRequired7c6;null==r&&((r=function(e){if(e in n)return n[e].exports;if(e in i){var t=i[e];delete i[e];var r={id:e,exports:{}};return n[e]=r,t.call(r.exports,r,r.exports),r.exports}var l=new Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,t){i[e]=t},t.parcelRequired7c6=r);var l=r("8nrFW"),o=r("446fK"),a=r("knNGv"),s=(a=r("knNGv"),r("a5TQa")),c=r("71ZIC"),d=document.querySelector(".js-library-btn-watch"),u=document.querySelector(".js-library-btn-que"),m=document.querySelector(".js-film_list"),v=document.querySelector(".js-pagination__list"),f=document.querySelector(".js-pagination__arrow_prev"),p=document.querySelector(".js-pagination__arrow_next"),g=document.querySelector(".backdrop__description"),y=document.querySelector(".backdrop__buttons"),b=document.querySelector(".js-error"),h=document.querySelector(".loader"),L=localStorage.getItem("watchFilm"),_=JSON.parse(L),S=localStorage.getItem("queFilm"),E=JSON.parse(S),x=4;function w(t){v.innerHTML="",m.innerHTML=(0,a.createMarkupForLibrary)(t),k(t),function(t){for(var n,i=Math.ceil(t.length/x),r=1;r<=i;r+=1){var o=document.createElement("li");o.classList.add("pagination__item"),o.classList.add("text"),o.textContent=r,v.appendChild(o)}b(v.children[0]);var s=!0,d=!1,u=void 0;try{for(var g,y=v.children[Symbol.iterator]();!(s=(g=y.next()).done);s=!0){g.value.addEventListener("click",(function(){b(this)}))}}catch(e){d=!0,u=e}finally{try{s||null==y.return||y.return()}finally{if(d)throw u}}function b(e){n&&n.classList.remove("active"),n=e,e.classList.add("active");var i=(e.textContent-1)*x,r=i+x,l=t.slice(i,r);m.innerHTML=(0,a.createMarkupForLibrary)(l),k(l),_(),(0,c.errorImage)(t,m.children)}function h(){n.nextElementSibling&&b(n.nextElementSibling)}function L(){n.previousElementSibling&&b(n.previousElementSibling)}function _(){var t=e(l)(v.children);if(t.length>5){t.forEach((function(e){return e.classList.add("hide")})),t[0].classList.remove("hide");try{n.previousElementSibling&&(n.previousElementSibling.classList.remove("hide"),n.previousElementSibling.previousElementSibling.classList.remove("hide")),n.classList.remove("hide"),n.nextElementSibling&&(n.nextElementSibling.classList.remove("hide"),n.nextElementSibling.nextElementSibling.classList.remove("hide"))}catch(e){n.previousElementSibling&&n.previousElementSibling.classList.remove("hide"),n.classList.remove("hide"),n.nextElementSibling&&n.nextElementSibling.classList.remove("hide")}}}p.addEventListener("click",h),f.addEventListener("click",L)}(t)}function k(e){for(var t=m.getElementsByClassName("filmsGenres"),n=0;n<t.length;n+=1){var i=e[n].genres.map((function(e){return e.name}));t[n].textContent=i.join(", ")}}window.innerWidth>767&&(x=6),window.innerWidth>1279&&(x=9),u.addEventListener("click",(function(){d.classList.remove("active__btn"),u.classList.add("active__btn"),w(E)})),d.addEventListener("click",(function(){d.classList.add("active__btn"),u.classList.remove("active__btn"),w(_)})),m.addEventListener("click",(function(e){if(e.target===m)return;var t=e.target.closest(".films__item").dataset.id;(0,s.useModal)(),y.style.display="none",g.style.marginBottom="0",(0,o.getFilmDetails)(t).then((function(e){g.innerHTML=(0,a.createMarkupDetails)(e),e.poster_path||(g.children[0].src="./images/no-photo.png"),h.style.display="none"})).catch((function(){b.style.display="block",f.style.display="none",p.style.display="none",h.style.display="none"}))})),d.classList.add("active__btn"),h.style.display="none",w(_)}();
//# sourceMappingURL=library.5de91410.js.map
