function e(e,t,n,i){Object.defineProperty(e,t,{get:n,set:i,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},i={},s={},o=n.parcelRequired7c6;null==o&&((o=function(e){if(e in i)return i[e].exports;if(e in s){var t=s[e];delete s[e];var n={id:e,exports:{}};return i[e]=n,t.call(n.exports,n,n.exports),n.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){s[e]=t},n.parcelRequired7c6=o),o.register("kyEFX",(function(t,n){var i,s;e(t.exports,"register",(function(){return i}),(function(e){return i=e})),e(t.exports,"resolve",(function(){return s}),(function(e){return s=e}));var o={};i=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)o[t[n]]=e[t[n]]},s=function(e){var t=o[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),o("kyEFX").register(JSON.parse('{"1zJhX":"library.9eb24a69.js","8Ac76":"no-photo.8c94442b.png","8aJ8o":"index.71e4ef0f.css"}'));async function r(e){return await fetch(`https://api.themoviedb.org/3/movie/${e}?api_key=583e8699bc133adc4a2f7322eb108f1f`).then((e=>{if(!e.ok)throw new Error(e.statusText);return e.json()}))}var l;l=new URL(o("kyEFX").resolve("8Ac76"),import.meta.url).toString();function c(e){const{poster_path:n,title:i,vote_average:s,vote_count:o,popularity:r,original_title:c,genres:a,overview:d}=e;let p=`http://image.tmdb.org/t/p/w500${n}`;e.poster_path||(p=t(l));let u=a.map((e=>e.name)).join(", ");return`<img src="${p}" alt="${i}" class="backdrop__description-img films__img">\n        <div class="backdrop__info"><h2 class="backdrop__description-title text">${i}</h2>\n        <div class="backdrop__description-block">\n        <p class="backdrop__description-option text">Vote / Votes</p>\n        <div class="backdrop__description-value">\n        <button class="text backdrop__description-vote">${s.toFixed(1)}</button>\n        <span class="text">/</span>\n        <button class="text backdrop__description-vote vote_count">${o}</button></div>\n        <p class="backdrop__description-option text">Popularity</p>\n        <p class="backdrop__description-value text">${r.toFixed(1)}</p>\n        <p class="backdrop__description-option text">Original Title</p>\n        <p class="backdrop__description-value text">${c}</p>\n        <p class="backdrop__description-option text">Genre</p>\n        <p class="backdrop__description-value text">${u}</p>\n        </div>\n          <h3 class="backdrop__description-text_title text">About</h3>\n          <p class="backdrop__description-text text">${d}</p></div>`}function a(e){return e.map((e=>function(e){const{poster_path:n,title:i,release_date:s,id:o,vote_average:r}=e;let c=`http://image.tmdb.org/t/p/w500${n}`;e.poster_path||(c=t(l));return`<li class="films__item" data-id="${o}">\n        <img class="films__img" src="${c}" alt="${i}">\n        <h3 class="films__description text">${i}</h3>\n        <span class="filmsGenres"></span>\n        <span class="films__description text films__release"> | ${s.split("-")[0]}</span>\n        <button class="backdrop__description-vote library__description-vote">${r.toFixed(1)}</button>\n        </li>`}(e))).join("")}function d(){const e=document.querySelector(".js-close-btn"),t=document.querySelector(".js-backdrop"),n=document.querySelector(".js-backdrop-modal");t.classList.remove("is-hidden"),e.addEventListener("click",(function(){t.classList.add("is-hidden")})),window.addEventListener("keydown",(function e(n){"Escape"===n.code&&t.classList.add("is-hidden");t.classList.contains("is-hidden")&&window.removeEventListener("keydown",e)})),window.addEventListener("mousedown",(function e(i){n.contains(i.target)||t.classList.add("is-hidden");t.classList.contains("is-hidden")&&window.removeEventListener("mousedown",e)}))}const p=document.querySelector(".js-library-btn-watch"),u=document.querySelector(".js-library-btn-que"),_=document.querySelector(".js-film_list"),m=document.querySelector(".js-pagination__list"),b=document.querySelector(".js-pagination__arrow_prev"),v=document.querySelector(".js-pagination__arrow_next"),f=document.querySelector(".backdrop__description"),g=document.querySelector(".backdrop__buttons"),h=document.querySelector(".js-error"),y=document.querySelector(".loader"),x=localStorage.getItem("watchFilm"),L=JSON.parse(x),E=localStorage.getItem("queFilm"),k=JSON.parse(E);let S=4;function w(e){m.innerHTML="",_.innerHTML=a(e),$(e),function(e){let t,n=Math.ceil(e.length/S);for(let e=1;e<=n;e+=1){let t=document.createElement("li");t.classList.add("pagination__item"),t.classList.add("text"),t.textContent=e,m.appendChild(t)}i(m.children[0]);for(let e of m.children)e.addEventListener("click",(function(){i(this)}));function i(n){t&&t.classList.remove("active"),t=n,n.classList.add("active");let i=(n.textContent-1)*S,s=i+S,o=e.slice(i,s);_.innerHTML=a(o),$(o),r()}function s(){t.nextElementSibling&&i(t.nextElementSibling)}function o(){t.previousElementSibling&&i(t.previousElementSibling)}function r(){let e=[...m.children];if(e.length>5){e.forEach((e=>e.classList.add("hide"))),e[0].classList.remove("hide");try{t.previousElementSibling&&(t.previousElementSibling.classList.remove("hide"),t.previousElementSibling.previousElementSibling.classList.remove("hide")),t.classList.remove("hide"),t.nextElementSibling&&(t.nextElementSibling.classList.remove("hide"),t.nextElementSibling.nextElementSibling.classList.remove("hide"))}catch{t.previousElementSibling&&t.previousElementSibling.classList.remove("hide"),t.classList.remove("hide"),t.nextElementSibling&&t.nextElementSibling.classList.remove("hide")}}}v.addEventListener("click",s),b.addEventListener("click",o)}(e)}function $(e){let t=_.getElementsByClassName("filmsGenres");for(let n=0;n<t.length;n+=1){let i=e[n].genres.map((e=>e.name));t[n].textContent=i.join(", ")}}window.innerWidth>767&&(S=6),window.innerWidth>1279&&(S=9),u.addEventListener("click",(function(){p.classList.remove("active__btn"),u.classList.add("active__btn"),w(k)})),p.addEventListener("click",(function(){p.classList.add("active__btn"),u.classList.remove("active__btn"),w(L)})),_.addEventListener("click",(function(e){if(e.target===_)return;let t=e.target.closest(".films__item").dataset.id;d(),g.style.display="none",f.style.marginBottom="0",r(t).then((e=>{f.innerHTML=c(e),y.style.display="none"})).catch((()=>{h.style.display="block",b.style.display="none",v.style.display="none",y.style.display="none"}))})),p.classList.add("active__btn"),y.style.display="none",w(L);
//# sourceMappingURL=library.9eb24a69.js.map
